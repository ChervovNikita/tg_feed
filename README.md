# Medium Article Filter - ML-powered Article Recommendation

[![Python 3.11](https://img.shields.io/badge/python-3.11-blue.svg)](https://www.python.org/downloads/)
[![Docker](https://img.shields.io/badge/docker-compose-2496ED.svg)](https://www.docker.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π —Å Medium —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

## üìã –ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ–º –∏ –∞–≤—Ç–æ—Ä–æ–≤ –Ω–∞ Medium, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ —á–∏—Ç–∞—é—Ç –ª–∏—à—å 10-20% —Å—Ç–∞—Ç–µ–π. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø—Ä–æ–ø—É—Å–∫—É –≤–∞–∂–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Ç—Ä–∞—Ç–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –Ω–µ–∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ.

**–†–µ—à–µ–Ω–∏–µ**: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å—Ç–∞—Ç—å–∏ —Å Medium –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–≥–∏ (programming, technology, AI –∏ —Ç.–¥.)
- –ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—å–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É –∫–æ–º–∞–Ω–¥–æ–π `/next`
- –°—Ç–∞–≤–∏—Ç —Ä–µ–∞–∫—Ü–∏–∏ (üëç/üëé) –Ω–∞ –ø–æ–ª—É—á–∞–µ–º—ã–µ —Å—Ç–∞—Ç—å–∏
- ML-–º–æ–¥–µ–ª—å –æ–±—É—á–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–∫—Ü–∏—è—Ö –∏ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç

**–¶–µ–Ω–Ω–æ—Å—Ç—å**:
- ‚è±Ô∏è –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–µ–Ω—Ç—ã
- üéØ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üìà –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ —Å –∫–∞–∂–¥–æ–π —Ä–µ–∞–∫—Ü–∏–µ–π
- üîÑ Pull-based –º–æ–¥–µ–ª—å: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∞–º —Ä–µ—à–∞–µ—Ç, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–∞—Ç—å —Å—Ç–∞—Ç—å–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                              MEDIUM.COM                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  RSS Feeds + GraphQL API (–ø–æ —Ç–µ–≥–∞–º: programming, technology, etc)  ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ —Å–∫—Ä–∞–ø–∏—Ç
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        MEDIUM SCRAPER                                       ‚îÇ
‚îÇ  - RSS –ø–∞—Ä—Å–∏–Ω–≥                                                              ‚îÇ
‚îÇ  - GraphQL –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞                                               ‚îÇ
‚îÇ  - Cloudscraper –¥–ª—è –æ–±—Ö–æ–¥–∞ Cloudflare                                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚îÇ
                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                              KAFKA                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  raw_posts   ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ    reactions     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                        ‚ñ≤                        ‚îÇ
          ‚ñº                        ‚îÇ                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                           ML SERVICE (FastAPI)                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ  ‚îÇ OpenAI Embeddings‚îÇ  ‚îÇ LogReg Classifier‚îÇ  ‚îÇ Kafka Consumers     ‚îÇ       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
                                    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        PostgreSQL + pgvector                                 ‚îÇ
‚îÇ  users | tag_subscriptions | posts | predictions | reactions | user_models ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                                                        ‚îÇ
         ‚ñº                                                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Airflow        ‚îÇ                              ‚îÇ      Monitoring        ‚îÇ
‚îÇ  - retrain_models   ‚îÇ                              ‚îÇ  Prometheus + Grafana  ‚îÇ
‚îÇ  - compute_metrics  ‚îÇ                              ‚îÇ      Streamlit         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                                                        ‚îÇ
         ‚ñº                                                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                           TELEGRAM BOT                                      ‚îÇ
‚îÇ  - /next - –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞—Ç—å—é                                         ‚îÇ
‚îÇ  - /tags - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –Ω–∞ —Ç–µ–≥–∏                                    ‚îÇ
‚îÇ  - –†–µ–∞–∫—Ü–∏–∏ üëç/üëé –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏                                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- OpenAI API Key
- Telegram Bot Token (–æ—Ç @BotFather)
- Medium Cookie (–¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ GraphQL API, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/your-username/tg_channel_filter.git
cd tg_channel_filter
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞
cp env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
# - BOT_TOKEN - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
# - OPENAI_API_KEY - –∫–ª—é—á OpenAI API
# - MEDIUM_COOKIE - cookie –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç–µ–π)
# - MEDIUM_TAGS - —Ç–µ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: programming,technology,...)
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Medium Cookie:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://medium.com –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Cookie` –∏–∑ –∑–∞–ø—Ä–æ—Å–∞

### 3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ Docker)

```bash
# –ü–æ–¥–Ω–∏–º–∞–µ–º –±–∞–∑—É, Kafka, ML-—Å–µ—Ä–≤–∏—Å, –±–æ—Ç–∞, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ Airflow
docker-compose up -d postgres kafka kafka-init ml-service bot prometheus grafana airflow-init airflow-webserver airflow-scheduler
```

> –î–ª—è —Å–∫—Ä–µ–ø–µ—Ä–∞ Medium —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω **–ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤–Ω–µ Docker**, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ Medium —á–∞—â–µ –æ—Ç–≤–µ—á–∞–µ—Ç `HTTP 429` –∏–∑‚Äë–∑–∞ Cloudflare.

### 4. –ó–∞–ø—É—Å–∫ RSS/Medium —Å–∫—Ä–µ–ø–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–≤–Ω–µ Docker) ‚Äî –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –í–ê–†–ò–ê–ù–¢

–°–∫—Ä–µ–ø–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Postgres –∏ Kafka –∏–∑ docker-compose.

```bash
# 1. –ü–æ–¥–Ω–∏–º–∏—Ç–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É (Postgres, Kafka –∏ —Ç.–ø.)
docker-compose up -d postgres kafka kafka-init ml-service bot

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–∫—Ä–µ–ø–µ—Ä–∞ –ª–æ–∫–∞–ª—å–Ω–æ
cd services/medium_scraper
pip install -r requirements.txt

# 3. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–¥–æ–ª–∂–Ω—ã —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ Docker-—Å–µ—Ä–≤–∏—Å—ã)
export DATABASE_URL="postgresql://postgres:postgres@localhost:5432/tg_filter"
export KAFKA_BOOTSTRAP_SERVERS="localhost:29092"
export MEDIUM_COOKIE="–í–ê–®_COOKIE_–ò–ó_–ë–†–ê–£–ó–ï–†–ê"

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–µ–ø–µ—Ä
python main.py
```

–°–∫—Ä–µ–ø–µ—Ä –±—É–¥–µ—Ç –ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å–∏ –≤ Kafka (`raw_posts`), –∞ –¥–∞–ª—å—à–µ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç ML-—Å–µ—Ä–≤–∏—Å –∏ –±–æ—Ç.

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (Docker)

```bash
docker-compose ps
```

## üì¶ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|------|----------|
| **ML Service** | 8000 | FastAPI —Å OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π |
| **Streamlit** | 8501 | –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –¥–∞—à–±–æ—Ä–¥ |
| **Grafana** | 3000 | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ |
| **Airflow** | 8080 | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è DAG'–æ–≤ |
| **PostgreSQL** | 5432 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| **Kafka** | 9092 | –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π |
| **Prometheus** | 9090 | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ |

## ü§ñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`.

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º |
| `/next` | –ü–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —Å—Ç–∞—Ç—å—é |
| `/tags` | –û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Ç–µ–º |
| `/add_tag <tag>` | –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Ç–µ–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `/add_tag machine-learning`) |
| `/my_tags` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ –Ω–∞ —Ç–µ–≥–∏ |
| `/stats` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º |

### –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏

- üëç ‚Äî –ù—Ä–∞–≤–∏—Ç—Å—è (–º–æ–¥–µ–ª—å –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ –ø–æ—Ö–æ–∂–µ–≥–æ)
- üëé ‚Äî –ù–µ –Ω—Ä–∞–≤–∏—Ç—Å—è (–º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ—Ö–æ–∂–µ–µ)
- ‚è≠Ô∏è ‚Äî –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å (–±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏)

**–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –í—ã–±–µ—Ä–∏ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ —Ç–µ–≥–∏ –∫–æ–º–∞–Ω–¥–æ–π `/tags`
2. –ù–∞–∂–º–∏ `/next` —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—å—é
3. –°—Ç–∞–≤—å —Ä–µ–∞–∫—Ü–∏–∏ üëç –∏–ª–∏ üëé –Ω–∞ —Å—Ç–∞—Ç—å–∏
4. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º –º–æ–¥–µ–ª—å –Ω–∞—É—á–∏—Ç—Å—è –ø–æ–Ω–∏–º–∞—Ç—å —Ç–≤–æ–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è!

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Grafana (http://localhost:3000)
- Login: admin / admin (–ø–∞—Ä–æ–ª—å –∏–∑ `GF_SECURITY_ADMIN_PASSWORD`)
- –î–∞—à–±–æ—Ä–¥—ã:
  - **ML Service Metrics** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ ML —Å–µ—Ä–≤–∏—Å–∞ (latency, predictions, errors)
  - **Business Metrics** ‚Äî –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏ (–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ø–æ–¥–ø–∏—Å–∫–∏, —Ä–µ–∞–∫—Ü–∏–∏)

### Streamlit (http://localhost:8501)
- Overview: –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- Predictions: –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- Users: –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- Metrics: –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã –º–µ—Ç—Ä–∏–∫

### Airflow (http://localhost:8080)
- Login: admin / admin
- Note: Airflow UI often redirects `/` -> `/home` after login (this is normal in Airflow 2.x).
- DAGs:
  - `retrain_user_models` ‚Äî –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
  - `compute_metrics` ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫
  - `build_data_marts` ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω –¥–∞–Ω–Ω—ã—Ö

## üîß API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

ML Service –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç OpenAPI (Swagger) –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```
GET  /health              - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
POST /embeddings          - –ü–æ–ª—É—á–∏—Ç—å —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è —Ç–µ–∫—Å—Ç–∞
POST /predict             - –ü—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—å–∏
GET  /recommend/{user_id} - –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (use `track=true` to log into `predictions` history)
POST /events/post_sent    - –°–æ–±—ã—Ç–∏–µ "–ø–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é" (–æ–±–Ω–æ–≤–ª—è–µ—Ç sent-—Å—Ç–∞—Ç—É—Å + –º–µ—Ç—Ä–∏–∫–∏)
GET  /model/{user_id}     - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /retrain/{user_id}   - –¢—Ä–∏–≥–≥–µ—Ä –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
GET  /metrics             - Prometheus –º–µ—Ç—Ä–∏–∫–∏

# Admin endpoints (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è userbot pool, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
GET  /admin/userbots      - –°–ø–∏—Å–æ–∫ userbot –∞–∫–∫–∞—É–Ω—Ç–æ–≤
POST /admin/userbots      - –î–æ–±–∞–≤–∏—Ç—å userbot –∞–∫–∫–∞—É–Ω—Ç
```

## üß™ ML Pipeline

1. **–≠–º–±–µ–¥–¥–∏–Ω–≥–∏**: OpenAI text-embedding-3-small (1536 dims)
2. **–§–∏—á–∏**: text_embedding —Å—Ç–∞—Ç—å–∏
3. **–ú–æ–¥–µ–ª—å**: LogisticRegression (sklearn) ‚Äî –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–û–±—É—á–µ–Ω–∏–µ**: 
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤ (Airflow DAG `retrain_user_models`)
   - –¢—Ä–∏–≥–≥–µ—Ä –ø—Ä–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–∏ N –Ω–æ–≤—ã—Ö —Ä–µ–∞–∫—Ü–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é N=20)
5. **–ò–Ω—Ñ–µ—Ä–µ–Ω—Å**: real-time —á–µ—Ä–µ–∑ Kafka consumer
6. **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –º–æ–¥–µ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ PostgreSQL (pgvector –¥–ª—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tg_channel_filter/
‚îú‚îÄ‚îÄ docker-compose.yml          # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ README.md                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ env.example                 # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements/               # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ ml_service/            # FastAPI ML —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py            # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ consumer.py        # Kafka consumers
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ model.py           # ML –º–æ–¥–µ–ª—å (LogisticRegression)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py      # OpenAI embeddings
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py           # Admin API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ bot/                   # Telegram –±–æ—Ç (aiogram)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py       # /start, /help, /stats
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tags.py        # /tags, /add_tag, /my_tags
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ reactions.py   # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∞–∫—Ü–∏–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ next_post.py       # –õ–æ–≥–∏–∫–∞ pull-based –¥–æ—Å—Ç–∞–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ medium_scraper/        # –°–∫—Ä–µ–π–ø–µ—Ä —Å—Ç–∞—Ç–µ–π —Å Medium
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py            # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ streamlit/             # –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π UI
‚îú‚îÄ‚îÄ airflow/
‚îÇ   ‚îî‚îÄ‚îÄ dags/                  # Airflow DAG'–∏
‚îÇ       ‚îú‚îÄ‚îÄ retrain_models.py  # –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
‚îÇ       ‚îú‚îÄ‚îÄ compute_metrics.py # –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
‚îÇ       ‚îî‚îÄ‚îÄ build_data_marts.py # –í–∏—Ç—Ä–∏–Ω—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ 01-init.sql            # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ monitoring/
    ‚îú‚îÄ‚îÄ prometheus.yml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prometheus
    ‚îî‚îÄ‚îÄ grafana/               # –î–∞—à–±–æ—Ä–¥—ã Grafana
        ‚îú‚îÄ‚îÄ provisioning/      # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
        ‚îî‚îÄ‚îÄ dashboards/        # JSON –¥–∞—à–±–æ—Ä–¥—ã
```

## üéØ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫—É—Ä—Å–∞

### –ë–∞–∑–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (6-7 –±–∞–ª–ª–æ–≤)
- ‚úÖ Docker-compose –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ README —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π
- ‚úÖ –ë–∏–∑–Ω–µ—Å-—Ü–µ–Ω–Ω–æ—Å—Ç—å –æ–ø–∏—Å–∞–Ω–∞
- ‚úÖ ML-—Å–µ—Ä–≤–∏—Å (–∏–Ω—Ñ–µ—Ä–µ–Ω—Å)
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL + pgvector)
- ‚úÖ –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π (Kafka)
- ‚úÖ UI (Streamlit + Telegram Bot)
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Grafana + Prometheus)

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (8-10 –±–∞–ª–ª–æ–≤)
- ‚úÖ **–°–µ—Ä–≤–∏—Å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ —Å –±—Ä–æ–∫–µ—Ä–æ–º** ‚Äî ML Service + Kafka consumers
- ‚úÖ **–ë–î —Å ETL/–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º** ‚Äî Airflow DAGs –¥–ª—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –∏ –º–µ—Ç—Ä–∏–∫
- ‚úÖ **–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏** ‚Äî hot-reload –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ API
- ‚úÖ **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π UI** ‚Äî Streamlit –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ + OpenAPI –≤ ML Service

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# ML Service
cd services/ml_service
pip install -r requirements.txt
uvicorn main:app --reload

# Bot
cd services/bot
pip install -r requirements.txt
python main.py
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f ml-service
docker-compose logs -f bot
docker-compose logs -f medium-scraper

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Kafka
docker-compose logs -f kafka

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫
docker-compose logs -f prometheus
docker-compose logs -f grafana
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–µ–π–ø–µ—Ä–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å—Ç–∞—Ç—å–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Kafka
docker-compose logs -f medium-scraper | grep "New article"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ ML —Å–µ—Ä–≤–∏—Å–µ
docker-compose logs -f ml-service | grep "processed"
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Medium Scraper

- **RSS –ø–∞—Ä—Å–∏–Ω–≥**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `feedparser` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π
- **GraphQL API**: –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç–µ–π (—Ç—Ä–µ–±—É–µ—Ç cookie)
- **Cloudscraper**: –æ–±—Ö–æ–¥ Cloudflare –∑–∞—â–∏—Ç—ã
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–µ–≥–∏**: —Ç–µ–≥–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `tag_subscriptions` –≤ –ë–î
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –ø–æ `source_id`

### Pull-based –º–æ–¥–µ–ª—å

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –±–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç pull-–º–æ–¥–µ–ª—å:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—å—é –∫–æ–º–∞–Ω–¥–æ–π `/next`
- –ë–æ—Ç –≤—ã–±–∏—Ä–∞–µ—Ç –ª—É—á—à—É—é —Å—Ç–∞—Ç—å—é –Ω–∞ –æ—Å–Ω–æ–≤–µ ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
- –ü–æ—Å–ª–µ —Ä–µ–∞–∫—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç–∞—Ç—å—è
- –ï—Å–ª–∏ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π –Ω–µ—Ç, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
- –§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `users` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞
- `tag_subscriptions` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ç–µ–≥–∏
- `posts` ‚Äî —Å—Ç–∞—Ç—å–∏ —Å Medium (source, source_id, source_url, title, author, tag)
- `predictions` ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –º–æ–¥–µ–ª–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `reactions` ‚Äî —Ä–µ–∞–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (liked/disliked)
- `user_models` ‚Äî –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (pickle + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)

## üêõ Troubleshooting

### –°—Ç–∞—Ç—å–∏ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ –±–æ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–∫—Ä–µ–π–ø–µ—Ä–∞: `docker-compose logs -f medium-scraper`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–µ–≥–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã: `/my_tags` –≤ –±–æ—Ç–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ ML —Å–µ—Ä–≤–∏—Å–µ: `docker-compose logs -f ml-service`
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ç–µ–≥–∏ –≤ –ë–î

### HTTP 429 –æ—Ç Medium

Medium –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã. –†–µ—à–µ–Ω–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `cloudscraper` (—É–∂–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)
- –£–≤–µ–ª–∏—á—å—Ç–µ `POLL_INTERVAL_SECONDS` –≤ `.env`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `MEDIUM_COOKIE` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –ú–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Airflow DAG `retrain_user_models`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–∞–∫—Ü–∏–π (–º–∏–Ω–∏–º—É–º 10)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs -f airflow-scheduler`

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë§ –ê–≤—Ç–æ—Ä

MLOps Course Final Project

